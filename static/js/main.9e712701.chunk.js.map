{"version":3,"sources":["components/deckgl-layers.js","components/style.js","components/controls.js","components/notification.js","components/navbar.js","components/list-group.js","App.js","serviceWorker.js","reducers/rootReducer.js","index.js"],"names":["ambientLight","AmbientLight","color","intensity","pointLight","PointLight","position","DEFAULT_THEME","buildingColor","trailColor0","trailColor1","material","ambient","diffuse","shininess","specularColor","effects","LightingEffect","landCover","renderLayers","props","data","visiting","startEnd","path","trip","time","trailLength","onHover","onClick","settings","buildings","theme","showScatterplot","ScatterplotLayer","id","getPosition","d","getFillColor","getRadius","opacity","pickable","radiusMinPixels","radiusMaxPixels","PolygonLayer","getPolygon","f","stroked","extruded","wireframe","polygon","getElevation","height","PathLayer","widthMinPixels","getPath","getColor","getWidth","TripsLayer","getTimestamps","timestamps","rounded","currentTime","shadowEnabled","tooltipStyle","padding","background","maxWidth","fontSize","zIndex","pointerEvents","layerControl","borderRadius","boxShadow","fontFamily","lineHeight","width","top","right","SCATTERPLOT_CONTROLS","type","value","radiusScale","step","min","max","MAPBOX_DEFAULT_MAPSTYLES","label","MapStylePicker","currentStyle","onStyleChange","Form","Control","as","size","className","onChange","e","target","map","style","key","LayerControls","settingName","newValue","this","newSettings","title","propTypes","Object","keys","display","float","propType","_onValueChange","bind","Component","Setting","Checkbox","Check","checked","Slider","htmlFor","Number","Notification","show","fade","icon","iconClassName","message","description","text","URL","window","open","location","replace","bottom","algorithms","navbar","state","algorithm","collapse","setState","bfs","dfs","dks","gbf","astar","console","log","fixed","dark","expand","isWideEnough","isOpen","centre","options","placeholder","start","end","handleAlgo","Button","handleStart","variant","setInitialView","ListGroup","pill","nodesVisited","runTime","pathLength","distance","speed","App","processData","graph","require","nodesToDisplay","i","push","lon","lat","pathToDisplay","tripToDisplay","clearInterval","interval","current","adjNodes","timer","Date","now","currentFrontier","nextFrontier","Map","nodes","length","pop","adj","animateNodes","next","has","set","stack","frontier","filter","includes","forEach","nodesVisted","dijkstra","FlatQueue","cost_so_far","pathCounter","cost","Array","from","new_cost","get","w","heuristic","a","b","Math","abs","priority","recustructPath","backwards","timestamp","timestampCounter","distanceNodes","parseInt","reverse","haversine","reduce","toFixed","animatePath","radians","degrees","PI","lat1","lat2","Δφ","Δλ","sin","cos","atan2","sqrt","viewport","longitude","latitude","zoom","pitch","bearing","hover","x","y","hoveredObject","click","clickedOject","accu","_animationFrame","cancelAnimationFrame","loopLength","animationSpeed","loopTime","requestAnimationFrame","setInterval","concat","slice","shift","object","_updateLayerSettings","ref","transform","layers","_onHover","_onClick","initialViewState","controller","ContextProvider","MapContext","Provider","reuseMaps","mapStyle","mapboxApiAccessToken","_uiVersion","Boolean","hostname","match","initialState","rootReducer","action","newNodes","node","newFrontier","newPath","createStore","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.9e712701.chunk.js","sourcesContent":["import { ScatterplotLayer } from \"deck.gl\";\nimport { TripsLayer } from \"@deck.gl/geo-layers\";\nimport { PolygonLayer, IconLayer, PathLayer } from \"@deck.gl/layers\";\nimport { AmbientLight, PointLight, LightingEffect } from \"@deck.gl/core\";\n\nconst URL =\n  \"https://raw.githubusercontent.com/uber-common/deck.gl-data/master/examples/trips/buildings.json\";\n\nconst trips =\n  \"https://raw.githubusercontent.com/uber-common/deck.gl-data/master/examples/trips/trips-v7.json\";\n\nconst START_COLOR = [0, 128, 255];\nconst END_COLOR = [255, 0, 128];\n\nconst ambientLight = new AmbientLight({\n  color: [255, 255, 255],\n  intensity: 1.0\n});\n\nconst pointLight = new PointLight({\n  color: [255, 255, 255],\n  intensity: 2.0,\n  position: [-74.05, 40.7, 8000]\n});\n\nconst lightingEffect = new LightingEffect({ ambientLight, pointLight });\n\nconst material = {\n  ambient: 0.1,\n  diffuse: 0.6,\n  shininess: 32,\n  specularColor: [60, 64, 70]\n};\n\nconst DEFAULT_THEME = {\n  buildingColor: [74, 80, 87],\n  trailColor0: [253, 128, 93],\n  trailColor1: [23, 184, 190],\n  material,\n  effects: [lightingEffect]\n};\nconst landCover = [\n  [\n    [-74.0, 40.7],\n    [-74.02, 40.7],\n    [-74.02, 40.72],\n    [-74.0, 40.72]\n  ]\n];\nconst ICON_MAPPING = {\n  marker: { x: 0, y: 0, width: 32, height: 32, mask: true }\n};\n\nexport function renderLayers(props) {\n  //Distructuring arguments\n  const {\n    data,\n    visiting,\n    startEnd,\n    path,\n    trip,\n    time,\n    trailLength,\n    onHover,\n    onClick,\n    settings,\n    buildings = URL,\n    theme = DEFAULT_THEME\n  } = props;\n\n  return [\n    settings.showScatterplot &&\n      new ScatterplotLayer({\n        id: \"scatterplot\",\n        //Format array [x,y,z]\n        getPosition: d => [d[1], d[2]],\n        getFillColor: [0, 128, 255],\n        getRadius: 8.5,\n        opacity: 1, //Put 0 for invisable\n        pickable: true,\n        radiusMinPixels: 0.25,\n        radiusMaxPixels: 10,\n        data,\n        time,\n        onHover,\n        onClick,\n        ...settings\n      }),\n\n    new ScatterplotLayer({\n      id: \"scatterplotVisiting\",\n      getPosition: d => [d[1], d[2]],\n      getFillColor: [253, 128, 93],\n      getRadius: 9,\n      opacity: 1, //Put 0 for invisable\n      radiusMinPixels: 0.25,\n      radiusMaxPixels: 10,\n      data: visiting,\n      ...settings\n    }),\n\n    new PolygonLayer({\n      id: \"ground\",\n      data: landCover,\n      getPolygon: f => f,\n      stroked: false,\n      getFillColor: [0, 0, 0, 0]\n    }),\n\n    new PolygonLayer({\n      id: \"buildings\",\n      data: buildings,\n      extruded: true,\n      wireframe: false,\n      opacity: 0.5,\n      getPolygon: f => f.polygon,\n      getElevation: f => f.height,\n      getFillColor: theme.buildingColor,\n      material: theme.material\n    }),\n    new PathLayer({\n      id: \"path-layer\",\n      data: path,\n      pickable: true,\n      widthMinPixels: 1,\n      getPath: d => d.path,\n      getColor: d => [253, 128, 93],\n      getWidth: d => 2\n    }),\n\n    new ScatterplotLayer({\n      id: \"scatterplotStartEnd\",\n      getPosition: d => [d[1], d[2]],\n      getFillColor: [255, 69, 0],\n      getRadius: 20,\n      opacity: 1, //Put 0 for invisable\n      radiusMinPixels: 0.25,\n      radiusMaxPixels: 10,\n      data: startEnd,\n      ...settings\n    }),\n    new TripsLayer({\n      id: \"trips\",\n      data: trip,\n      getPath: d => d.trip,\n      getTimestamps: d => d.timestamps,\n      getColor: [253, 128, 93],\n      opacity: 0.8,\n      widthMinPixels: 4,\n      rounded: true,\n      trailLength,\n      currentTime: time,\n\n      shadowEnabled: false\n    })\n\n    // new IconLayer({\n    //   id: \"icon-layer\",\n    //   data: [startXY, endXY],\n    //   pickable: true,\n    //   // iconAtlas and iconMapping are required\n    //   // getIcon: return a string\n    //   iconAtlas: \"./pin.png\",\n    //   iconMapping: ICON_MAPPING,\n    //   getIcon: d => \"marker\",\n\n    //   sizeScale: 15,\n    //   getPosition: d => [d[1], d[2]],\n    //   getSize: d => 24,\n    //   getColor: d => [255, 255, 255]\n    // })\n  ];\n}\n","export const tooltipStyle = {\n  position: \"absolute\",\n  padding: \"4px\",\n  background: \"rgba(0, 0, 0, 0.8)\",\n  color: \"#fff\",\n  maxWidth: \"300px\",\n  fontSize: \"10px\",\n  zIndex: 9,\n  pointerEvents: \"none\"\n};\n\nexport const layerControl = {\n  borderRadius: 3,\n  boxShadow: \"0 1px 2px rgba(0, 0, 0, 0.1)\",\n  fontFamily:\n    'ff-clan-web-pro, \"Helvetica Neue\", Helvetica, sans-serif !important',\n  fontSize: \"11px\",\n  lineHeight: 1.833,\n  width: 180,\n  position: \"absolute\",\n  top: \"115px\",\n  right: \"5px\",\n  padding: \"5px\",\n  zIndex: 100,\n  background: \"white\"\n};\n","import React, { Component } from \"react\";\nimport { layerControl } from \"./style\";\nimport { Form } from \"react-bootstrap\";\n\nexport const SCATTERPLOT_CONTROLS = {\n  showScatterplot: {\n    type: \"boolean\",\n    value: true\n  },\n  radiusScale: {\n    type: \"range\",\n    value: 0.6,\n    step: 2,\n    min: 10,\n    max: 10\n  }\n};\n\nconst MAPBOX_DEFAULT_MAPSTYLES = [\n  { label: \"Streets\", value: \"mapbox://styles/mapbox/streets-v10\" },\n  { label: \"Outdoors\", value: \"mapbox://styles/mapbox/outdoors-v10\" },\n  { label: \"Light\", value: \"mapbox://styles/mapbox/light-v10\" },\n  { label: \"Dark\", value: \"mapbox://styles/mapbox/dark-v10\" },\n  { label: \"Satellite\", value: \"mapbox://styles/mapbox/satellite-v9\" },\n  {\n    label: \"Navigation Preview Day V4\",\n    value: \"mapbox://styles/mapbox/navigation-preview-day-v4\"\n  },\n  {\n    label: \"Navitation Preview Night V4\",\n    value: \"mapbox://styles/mapbox/navigation-preview-night-v4\"\n  },\n  {\n    label: \"Navigation Guidance Day V4\",\n    value: \"mapbox://styles/mapbox/navigation-guidance-day-v4\"\n  },\n  {\n    label: \"Navigation Guidance Night V4\",\n    value: \"mapbox://styles/mapbox/navigation-guidance-night-v4\"\n  }\n];\n\nexport function MapStylePicker({ currentStyle, onStyleChange }) {\n  return (\n    <Form.Control\n      as=\"select\"\n      size=\"md\"\n      className=\"col-sm-2 sm\"\n      value={currentStyle}\n      onChange={e => onStyleChange(e.target.value)}\n    >\n      {MAPBOX_DEFAULT_MAPSTYLES.map(style => (\n        <option key={style.value} value={style.value}>\n          {style.label}\n        </option>\n      ))}\n    </Form.Control>\n  );\n}\n\nexport class LayerControls extends Component {\n  _onValueChange(settingName, newValue) {\n    const { settings } = this.props;\n    // Only update if we have a confirmed change\n    if (settings[settingName] !== newValue) {\n      // Create a new object so that shallow-equal detects a change\n      const newSettings = {\n        ...this.props.settings,\n        [settingName]: newValue\n      };\n\n      this.props.onChange(newSettings);\n    }\n  }\n\n  render() {\n    const { title, settings, propTypes = {} } = this.props;\n\n    return (\n      <div className=\"layer-controls\" style={layerControl}>\n        {title && <h4>{title}</h4>}\n        {Object.keys(settings).map(key => (\n          <div key={key}>\n            <div style={{ display: \"inline-block\", float: \"right\" }}>\n              {settings[key]}\n            </div>\n            <Setting\n              settingName={key}\n              value={settings[key]}\n              propType={propTypes[key]}\n              onChange={this._onValueChange.bind(this)}\n            />\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n\nconst Setting = props => {\n  const { propType } = props;\n  if (propType && propType.type) {\n    switch (propType.type) {\n      case \"range\":\n        return <Slider {...props} />;\n\n      case \"boolean\":\n        return <Checkbox {...props} />;\n      default:\n        return <input {...props} />;\n    }\n  }\n};\n\nconst Checkbox = ({ settingName, value, onChange }) => {\n  return (\n    <Form>\n      <Form.Check\n        type=\"switch\"\n        id={settingName}\n        checked={value}\n        onChange={e => onChange(settingName, e.target.checked)}\n        label=\"Show Scatterplot\"\n      />\n    </Form>\n  );\n};\n\nconst Slider = ({ settingName, value, propType, onChange }) => {\n  const { max = 100 } = propType;\n\n  return (\n    <div className=\"Slider\">\n      <label htmlFor=\"customRange1\">Scatterplot Radius</label>\n      <input\n        type=\"range\"\n        className=\"custom-range\"\n        id=\"customRange1\"\n        min={0}\n        max={max}\n        step={max / 100}\n        value={value}\n        onChange={e => onChange(settingName, Number(e.target.value))}\n      />\n    </div>\n  );\n};\n","import React, { Component, useState } from \"react\";\nimport { MDBContainer, MDBNotification } from \"mdbreact\";\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\n\nexport class Notification extends Component {\n  render() {\n    return (\n      <MDBNotification\n        //autohide={5000}\n        show\n        fade\n        icon=\"location-arrow\"\n        iconClassName=\"text-primary\"\n        title={this.props.label}\n        message={this.props.description}\n        text=\"Click to learn more\"\n        onClick={() => {\n          if (this.props.URL) {\n            window.open(this.props.URL, \"_blank\") ||\n              window.location.replace(this.props.URL);\n          }\n        }}\n        style={{\n          position: \"fixed\",\n          fontSize: \"12.5px\",\n          width: \"30rem\",\n          bottom: \"10px\",\n          right: \"10px\",\n          zIndex: 9999\n        }}\n      />\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { Button, Badge } from \"react-bootstrap\";\nimport { MapStylePicker } from \"./controls\";\nimport { Notification } from \"./notification\";\nimport Select from \"react-select\";\n//import Algorithms from \"./algorithms\";\nimport {\n  MDBNavbar,\n  MDBNavbarBrand,\n  MDBNavbarNav,\n  MDBNavbarToggler,\n  MDBCollapse,\n  MDBContainer\n} from \"mdbreact\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nconst algorithms = [\n  {\n    value: \"bfs\",\n    label: \"Bread-First Search\",\n    description: \"UNWEIGHTED and GUARANTEES the shortest path!\",\n    URL: \"https://en.wikipedia.org/wiki/Breadth-first_search\"\n  },\n  {\n    value: \"dfs\",\n    label: \"Depth-First Search\",\n    description: \"UNWEIGHTED and DOESN'T GUARANTEE the shortest path!\",\n    URL: \"https://en.wikipedia.org/wiki/Depth-first_search\"\n  },\n  {\n    value: \"dks\",\n    label: \"Dijkstra’s\",\n    description: \"WEIGHTED and GUARANTEES the shortest path!\",\n    URL: \"https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm\"\n  },\n  {\n    value: \"gbf\",\n    label: \"Greedy Best First Search\",\n    description:\n      \"Can be WEIGHTED and DOESN'T GUARANTEE the shortest path. A faster, more heuristic-heavy version of A*\",\n    URL: \"https://en.wikipedia.org/wiki/Best-first_search\"\n  },\n  {\n    value: \"astar\",\n    label: \"A* Algorithm\",\n    description:\n      \"WEIGHTED and GUARANTEES the shortest path. Probably, the best pathfinding algorithm; uses heuristics to guarantee the shortest path much faster than Dijkstra's Algorithm\",\n    URL: \"https://en.wikipedia.org/wiki/A*_search_algorithm\"\n  }\n];\n\nclass navbar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      algorithm: \"Algorithm\",\n      label: \"How does it work?\",\n      description:\n        \"Select a STARTING/DESTINATION point by clicking on the nodes ⮕ Select an ALGORITHM ⮕ Click START. Keep me open if you want to learn more about algorithms while using the site\",\n      collapse: false\n    };\n    this.onClick = this.onClick.bind(this);\n  }\n  onClick() {\n    this.setState({\n      collapse: !this.state.collapse\n    });\n  }\n\n  handleAlgo(e) {\n    this.setState({\n      algorithm: e.value,\n      label: e.label,\n      description: e.description,\n      URL: e.URL\n    });\n  }\n\n  handleStart() {\n    switch (this.state.algorithm) {\n      case \"bfs\":\n        this.props.bfs();\n        break;\n      case \"dfs\":\n        this.props.dfs();\n        break;\n      case \"dks\":\n        this.props.dks();\n        break;\n      case \"gbf\":\n        this.props.gbf();\n        break;\n      case \"astar\":\n        this.props.astar();\n        break;\n      default:\n        console.log(\"No algorithm selected!\");\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <header>\n          <Router>\n            <MDBNavbar\n              color=\"bg-primary\"\n              fixed=\"top\"\n              dark\n              expand=\"md\"\n              fixed=\"top\"\n              scrolling\n              transparent\n            >\n              <MDBContainer>\n                {/* <MDBNavbarBrand href=\"/\">\n                  <strong>Pathfinding visualiser</strong>\n                </MDBNavbarBrand> */}\n                {!this.state.isWideEnough && (\n                  <MDBNavbarToggler onClick={this.onClick} />\n                )}\n                <MDBCollapse isOpen={this.state.collapse} navbar>\n                  <MDBNavbarNav centre>\n                    <Select\n                      options={algorithms}\n                      className=\"col-sm-3 sm\"\n                      placeholder={this.props.start}\n                      size=\"sm\"\n                    />\n\n                    <Select\n                      options={algorithms}\n                      className=\"col-sm-3 sm\"\n                      placeholder={this.props.end}\n                    />\n\n                    <Select\n                      options={algorithms}\n                      className=\"col-sm-3 sm\"\n                      onChange={e => this.handleAlgo(e)}\n                      placeholder={this.state.algorithm}\n                    />\n                    <Button\n                      size=\"sm\"\n                      onClick={() => this.handleStart()} //()=> so that it doesn't get called as soon as mounted\n                      variant=\"primary\"\n                      className=\"mr-sm-2 font-weight-bold\"\n                    >\n                      START\n                    </Button>\n                    <Button\n                      size=\"sm\"\n                      onClick={() => this.props.setInitialView()}\n                      variant=\"danger\"\n                      className=\"mr-sm-2\"\n                    >\n                      CLEAR\n                    </Button>\n                    <MapStylePicker\n                      onStyleChange={this.props.onStyleChange}\n                      currentStyle={this.props.style}\n                    />\n                  </MDBNavbarNav>\n                </MDBCollapse>\n              </MDBContainer>\n            </MDBNavbar>\n          </Router>\n        </header>\n        <Notification\n          algorithm={this.state.algorithm}\n          label={this.state.label}\n          description={this.state.description}\n          URL={this.state.URL}\n        />\n      </div>\n    );\n  }\n}\n\nexport default navbar;\n","import React, { Component } from \"react\";\nimport {\n  MDBListGroup,\n  MDBListGroupItem,\n  MDBContainer,\n  MDBBadge\n} from \"mdbreact\";\n\nexport class ListGroup extends Component {\n  render() {\n    return (\n      <MDBContainer>\n        <MDBListGroup\n          style={{\n            width: 180,\n            fontSize: \"12px\",\n            position: \"absolute\",\n            top: \"5px\",\n            right: \"5px\",\n            lineHeight: 0.5\n          }}\n        >\n          <MDBListGroupItem\n            className=\"d-flex justify-content-between align-items-center p-1\"\n            color=\"secondary\"\n          >\n            Live nodes count:\n            <span> {this.props.data}</span>\n          </MDBListGroupItem>\n          <MDBListGroupItem className=\"d-flex   justify-content-between  align-items-center p-1 \">\n            Visited{\" \"}\n            <MDBBadge color=\"primary\" pill>\n              {this.props.nodesVisited}\n            </MDBBadge>{\" \"}\n            nodes in <MDBBadge color=\"danger\">{this.props.runTime}ms</MDBBadge>\n          </MDBListGroupItem>\n          <MDBListGroupItem className=\"d-flex justify-content-between align-items-center p-1\">\n            Path length:\n            <MDBBadge color=\"primary\" pill>\n              {this.props.pathLength}\n            </MDBBadge>\n          </MDBListGroupItem>\n          <MDBListGroupItem className=\"d-flex justify-content-between align-items-center p-1\">\n            Distance:\n            <MDBBadge color=\"primary\" pill>\n              {this.props.distance} Km\n            </MDBBadge>\n          </MDBListGroupItem>\n          <MDBListGroupItem className=\"d-flex justify-content-between align-items-center p-1\">\n            Average speed:\n            <MDBBadge color=\"primary\" pill>\n              {this.props.speed} Km/h\n            </MDBBadge>\n          </MDBListGroupItem>\n        </MDBListGroup>\n      </MDBContainer>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport {\n  _MapContext as MapContext,\n  NavigationControl,\n  StaticMap\n} from \"react-map-gl\";\nimport DeckGL from \"deck.gl\";\nimport { renderLayers } from \"./components/deckgl-layers\";\nimport Navbar from \"./components/navbar\";\nimport { ListGroup } from \"./components/list-group\";\nimport { LayerControls, SCATTERPLOT_CONTROLS } from \"./components/controls\";\nimport { tooltipStyle } from \"./components/style\";\nimport FlatQueue from \"flatqueue\";\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      viewport: {\n        longitude: -74,\n        latitude: 40.711,\n        zoom: 13.9,\n        pitch: 55,\n        bearing: 45\n      },\n      hover: {\n        x: 0,\n        y: 0,\n        hoveredObject: null\n      },\n      graph: null,\n      timestampCounter: null,\n      pathLength: 0,\n      trailLength: 200, //Can't be null\n      click: { clickedOject: null },\n      start: \"Start\", //So that they show as placeholder\n      end: \"Destination\",\n      nodesToDisplay: [],\n      nodesVisited: 0, //Frontier length\n      time: 0,\n      cost: 0,\n      settings: Object.keys(SCATTERPLOT_CONTROLS).reduce(\n        (accu, key) => ({\n          ...accu,\n          [key]: SCATTERPLOT_CONTROLS[key].value\n        }),\n        {}\n      ),\n      style: \"mapbox://styles/mapbox/dark-v10\"\n    };\n  }\n\n  componentDidMount() {\n    this.processData();\n  }\n\n  componentWillUnmount() {\n    if (this._animationFrame) {\n      window.cancelAnimationFrame(this._animationFrame);\n    }\n  }\n  animatePath() {\n    const {\n      loopLength = this.state.timestampCounter, // unit corresponds to the timestamp in source data\n      animationSpeed = loopLength / 2, // unit time per second\n      trailLength = loopLength\n    } = this.props;\n    this.setState({ trailLength });\n    const timestamp = Date.now() / 1000;\n    const loopTime = loopLength / animationSpeed;\n\n    this.setState({\n      time: ((timestamp % loopTime) / loopTime) * loopLength\n    });\n    this._animationFrame = window.requestAnimationFrame(\n      this.animatePath.bind(this)\n    );\n  }\n\n  processData = () => {\n    const data = require(\"./data/nodes.json\");\n    const graph = data[0];\n\n    this.setState(\n      { graph },\n      this.setInitialView //Works as await function\n    );\n    console.log(\"Deploy working\");\n  };\n\n  setInitialView = () => {\n    let nodesToDisplay = [];\n    const graph = this.state.graph;\n\n    for (let i in graph) {\n      nodesToDisplay.push([i, graph[i].lon, graph[i].lat]);\n    }\n    this.setState({\n      nodesToDisplay,\n      pathToDisplay: null, //Reset path\n      tripToDisplay: null, //Reset trip animation\n      visiting: null, //Reset Frontier\n      startEnd: null, //Reset start/end\n      start: \"Start\", //So that they show as placeholder\n      end: \"Destination\"\n    });\n    clearInterval(this.state.interval); //Stop animation\n  };\n  //////////////////////////////////\n  bfs = () => {\n    const graph = this.state.graph;\n    const timer = Date.now();\n    let currentFrontier = [this.state.start];\n    let nextFrontier = [];\n\n    let path = new Map();\n    //To reconstruct the path\n    let current, adjNodes;\n    let nodes = [];\n\n    while (currentFrontier.length > 0 || nextFrontier.length > 0) {\n      if (currentFrontier.length === 0) {\n        //Swap\n        [currentFrontier, nextFrontier] = [nextFrontier, currentFrontier];\n      }\n\n      current = currentFrontier.pop();\n      adjNodes = graph[current].adj;\n\n      nodes.push([current, graph[current].lon, graph[current].lat]);\n\n      if (current == this.state.end) {\n        let runTime = Date.now() - timer;\n        this.setState({ nodesVisited: nodes.length, runTime });\n        this.animateNodes(nodes, path);\n\n        break;\n      }\n\n      for (let next of adjNodes) {\n        if (!path.has(next)) {\n          nextFrontier.push(next);\n          path.set(next, current);\n        }\n      }\n    }\n    if (!currentFrontier.length && !nextFrontier.length) {\n      this.animateNodes(nodes);\n\n      console.log(\n        `Path not found, ${current} possible dead end or all the adjacent nodes have already been visited`\n      );\n    }\n  };\n\n  dfs = () => {\n    const graph = this.state.graph;\n    const timer = Date.now();\n    let stack = [this.state.start];\n    let frontier = [];\n    let path = new Map();\n    let current;\n    let nodes = [];\n    while (stack.length) {\n      current = stack.pop();\n      frontier.push(current);\n\n      //Display node\n      nodes.push([current, graph[current].lon, graph[current].lat]);\n\n      if (current == this.state.end) {\n        let runTime = Date.now() - timer;\n        this.setState({ nodesVisited: nodes.length, runTime });\n        this.animateNodes(nodes, path);\n        console.log(`${nodes.length} nodes visted in ${Date.now() - timer} ms`);\n        break;\n      }\n\n      graph[current].adj\n        .filter(next => !frontier.includes(next))\n        .forEach(next => {\n          stack.push(next);\n          path.set(Number(next), Number(current));\n        });\n    }\n    if (!stack.length) {\n      this.animateNodes(nodes);\n      let runTime = Date.now() - timer;\n      this.setState({ nodesVisted: nodes.length, runTime });\n      console.log(\n        `Path not found, ${current} possible dead end or all the adjacent nodes have already been visited`\n      );\n    }\n  };\n\n  dijkstra = () => {\n    const graph = this.state.graph;\n    const timer = Date.now();\n    const frontier = new FlatQueue();\n    frontier.push(this.state.start, 0);\n    let path = new Map();\n    let cost_so_far = new Map();\n    cost_so_far.set(this.state.start, 0);\n\n    let current, adjNodes;\n    let nodes = [];\n    let pathCounter = 0;\n    while (frontier.length > 0) {\n      current = frontier.pop(); //remove smallest item\n      adjNodes = graph[current].adj;\n\n      nodes.push([current, graph[current].lon, graph[current].lat]);\n\n      if (current == this.state.end) {\n        let runTime = Date.now() - timer;\n        let cost = Array.from(cost_so_far)[cost_so_far.size - 1][1];\n        this.setState({ cost, nodesVisited: nodes.length, runTime });\n\n        this.animateNodes(nodes, path);\n        console.log(\n          `%cAnalysed ${pathCounter} different paths, the best one costs ${cost}.`,\n          \"color: #fff; background-color:#b32400; border-radius: 5px; padding: 2px\"\n        );\n        break;\n      }\n\n      let i = 0;\n      for (let next of adjNodes) {\n        let new_cost = cost_so_far.get(current) + graph[current].w[i];\n\n        if (!cost_so_far.has(next) || new_cost < cost_so_far.get(next)) {\n          if (new_cost < cost_so_far.get(next)) pathCounter++;\n\n          cost_so_far.set(next, new_cost);\n          // let priority = new_cost;\n          frontier.push(next, new_cost);\n          path.set(next, current);\n        }\n        i++;\n      }\n    }\n    if (!frontier.length) {\n      this.animateNodes(nodes);\n      console.log(`${nodes.length} nodes visted in ${Date.now() - timer} ms`);\n      console.log(\n        `Path not found, ${current} possible dead end or all the adjacent nodes have already been visited`\n      );\n    }\n  };\n  heuristic = (a, b) => {\n    //Manhattan distance\n    const graph = this.state.graph;\n\n    return (\n      Math.abs(graph[a].lon - graph[b].lon) +\n      Math.abs(graph[a].lat - graph[b].lat)\n    );\n  };\n\n  gbf = () => {\n    //Greedy Best First Search\n    const graph = this.state.graph;\n    const timer = Date.now();\n    const frontier = new FlatQueue();\n    frontier.push(this.state.start, 0);\n    let path = new Map();\n\n    let current, adjNodes, priority;\n    let nodes = [];\n\n    while (frontier.length > 0) {\n      current = frontier.pop(); //remove smallest item\n      adjNodes = graph[current].adj;\n\n      nodes.push([current, graph[current].lon, graph[current].lat]);\n\n      if (current == this.state.end) {\n        let runTime = Date.now() - timer;\n        this.setState({ nodesVisited: nodes.length, runTime });\n        this.animateNodes(nodes, path);\n        console.log(nodes.length);\n        break;\n      }\n\n      for (let next of adjNodes) {\n        if (!path.has(next)) {\n          priority = this.heuristic(this.state.end, next); //Destination, currrent node\n          frontier.push(next, priority);\n          path.set(next, current);\n        }\n      }\n    }\n    if (!frontier.length) {\n      this.animateNodes(nodes);\n      console.log(`${nodes.length} nodes visted in ${Date.now() - timer} ms`);\n      console.log(\n        `Path not found, ${current} possible dead end or all the adjacent nodes have already been visited`\n      );\n    }\n  };\n\n  astar = () => {\n    const graph = this.state.graph;\n    const timer = Date.now();\n    const frontier = new FlatQueue();\n    frontier.push(this.state.start, 0);\n    let path = new Map();\n    let cost_so_far = new Map();\n    cost_so_far.set(this.state.start, 0);\n\n    let current, adjNodes, priority;\n    let nodes = [];\n    let pathCounter = 0;\n    while (frontier.length > 0) {\n      current = frontier.pop(); //remove smallest item\n      adjNodes = graph[current].adj;\n\n      nodes.push([current, graph[current].lon, graph[current].lat]);\n\n      if (current == this.state.end) {\n        let runTime = Date.now() - timer;\n\n        let cost = Array.from(cost_so_far)[cost_so_far.size - 1][1];\n        this.setState({ cost, nodesVisited: nodes.length, runTime });\n        console.log(\n          `%cAnalysed ${pathCounter} different paths, the best one costs ${cost}.`,\n          \"color: #fff; background-color:#b32400; border-radius: 5px; padding: 2px\"\n        );\n        this.animateNodes(nodes, path);\n        console.log(`${nodes.length} nodes visted in ${Date.now() - timer} ms`);\n        break;\n      }\n\n      let i = 0;\n      for (let next of adjNodes) {\n        let new_cost = cost_so_far.get(current) + graph[current].w[i];\n\n        if (!cost_so_far.has(next) || new_cost < cost_so_far.get(next)) {\n          if (new_cost < cost_so_far.get(next)) pathCounter++; //How many different paths analysed\n\n          cost_so_far.set(next, new_cost);\n          priority = new_cost + this.heuristic(this.state.end, next);\n          frontier.push(next, priority);\n          path.set(next, current);\n        }\n        i++;\n      }\n    }\n    if (!frontier.length) {\n      this.animateNodes(nodes);\n      console.log(`${nodes.length} nodes visted in ${Date.now() - timer} ms`);\n      console.log(\n        `Path not found, ${current} possible dead end or all the adjacent nodes have already been visited`\n      );\n    }\n  };\n  recustructPath = path => {\n    let graph = this.state.graph;\n    let current = this.state.end;\n    let backwards = [];\n    let nodes = [];\n    let trip = [];\n    let timestamp = [];\n    let timestampCounter = 1;\n    let distanceNodes = [];\n\n    while (current !== this.state.start) {\n      backwards.push(current);\n      current = parseInt(path.get(current));\n    }\n    backwards.push(this.state.start);\n    backwards.reverse();\n\n    for (let i of backwards) {\n      timestampCounter++;\n      nodes.push([graph[i].lon, graph[i].lat]); //PathLayer\n      trip.push([graph[i].lon, graph[i].lat, 10]); //x, y, z (path elevation) //TripsLayer\n      timestamp.push(timestampCounter);\n    }\n    this.setState({ timestampCounter });\n    const pathToDisplay = [{ path: nodes }];\n    const tripToDisplay = [\n      {\n        trip,\n        timestamps: timestamp\n      }\n    ];\n    this.setState({\n      pathToDisplay,\n      tripToDisplay\n    });\n    //Calculate total path distance\n    for (let i = 0; i < backwards.length - 1; i++) {\n      distanceNodes.push(\n        Number(this.haversine(backwards[i], backwards[i + 1]))\n      );\n    }\n    let distance = distanceNodes.reduce((a, b) => a + b, 0).toFixed(2);\n    let speed = (this.state.cost / backwards.length).toFixed(2);\n\n    this.setState({ distance, pathLength: backwards.length, speed });\n    this.animatePath();\n  };\n\n  haversine = (a, b) => {\n    //https://www.movable-type.co.uk/scripts/latlong.html\n    Math.radians = function(degrees) {\n      return (degrees * Math.PI) / 180;\n    };\n\n    const graph = this.state.graph;\n    const R = 6371; // Radius of the earth in km\n    const lat1 = Math.radians(graph[a].lat);\n    const lat2 = Math.radians(graph[b].lat);\n    const Δφ = lat2 - lat1;\n    const Δλ = Math.radians(graph[b].lon - graph[a].lon);\n\n    let distance =\n      Math.sin(Δφ / 2) * Math.sin(Δφ / 2) +\n      Math.cos(lat1) * Math.cos(lat2) * Math.sin(Δλ / 2) * Math.sin(Δλ / 2);\n    let c = 2 * Math.atan2(Math.sqrt(distance), Math.sqrt(1 - distance));\n\n    return R * c; //Distance in km\n  };\n\n  animateNodes(nodes, path = null, i = 1) {\n    // let connected = []; //Retrive connected graph\n    // nodes.forEach(e => connected.push(String(e[0])));\n    // console.log(connected);\n    let visiting = [];\n    this.setState({\n      nodesToDisplay: nodes[0],\n      startEnd: [nodes[0], nodes[nodes.length - 1]]\n    }); //Avoid page refresh\n\n    this.state.interval = setInterval(() => {\n      this.setState({\n        nodesToDisplay: this.state.nodesToDisplay.concat([nodes[i]]),\n        visiting: this.state.nodesToDisplay.slice(-8)\n      });\n\n      if ((visiting.length = 8)) {\n        visiting.shift();\n      }\n      i++;\n      if (i === nodes.length) {\n        clearInterval(this.state.interval);\n        this.setState({ visiting: null }); //Reset current visiting animation\n        if (nodes[nodes.length - 1][0] == this.state.end) {\n          //If end node found\n\n          this.recustructPath(path); //Set visited nodes sequence\n        }\n      }\n    }, 0.01);\n  }\n\n  ////////////////////////////////////////\n  _onHover({ x, y, object }) {\n    const label = `Node ${object}`;\n\n    this.setState({ hover: { x, y, hoveredObject: object, label } });\n  }\n  _onClick({ object }) {\n    if (this.state.start && this.state.end) {\n      this.setState({ start: null, end: null });\n    }\n\n    this.state.start\n      ? this.setState({ end: parseInt(object[0]) })\n      : this.setState({ start: parseInt(object[0]) });\n\n    //Start and End can't be the same\n    if (this.state.start === this.state.end) {\n      this.setState({ start: null, end: null });\n    }\n  }\n\n  onStyleChange = style => {\n    this.setState({ style });\n  };\n\n  _updateLayerSettings(settings) {\n    this.setState({ settings });\n  }\n  render() {\n    const data = this.state.nodesToDisplay;\n    const path = this.state.pathToDisplay;\n    const { viewport } = this.state;\n    if (data.length === 0) {\n      return null;\n    }\n    const { hover, settings } = this.state;\n\n    return (\n      <div>\n        <LayerControls\n          settings={this.state.settings}\n          propTypes={SCATTERPLOT_CONTROLS}\n          onChange={settings => this._updateLayerSettings(settings)}\n        />\n\n        <Navbar\n          ref=\"child\"\n          bfs={this.bfs}\n          dfs={this.dfs}\n          dks={this.dijkstra}\n          gbf={this.gbf}\n          astar={this.astar}\n          setInitialView={this.setInitialView}\n          onStyleChange={this.onStyleChange}\n          style={this.state.style}\n          start={this.state.start}\n          end={this.state.end}\n        />\n\n        {hover.hoveredObject && (\n          <div\n            style={{\n              ...tooltipStyle,\n              transform: `translate(${hover.x}px, ${hover.y}px)`\n            }}\n          >\n            <div>{hover.label}</div>\n          </div>\n        )}\n        <DeckGL\n          layers={renderLayers({\n            trailLength: this.state.trailLength,\n            visiting: this.state.visiting,\n            startEnd: this.state.startEnd,\n            data,\n            path: path,\n            trip: this.state.tripToDisplay,\n            time: this.state.time,\n            onHover: hover => this._onHover(hover),\n            onClick: click => this._onClick(click),\n            settings: this.state.settings\n          })}\n          initialViewState={viewport}\n          controller //Allows the user to move the map around\n          ContextProvider={MapContext.Provider}\n        >\n          <StaticMap // minimum version of reat-map-g\n            reuseMaps\n            mapStyle={this.state.style}\n            mapboxApiAccessToken={\n              //   \"pk.eyJ1IjoiZGlub2pzIiwiYSI6ImNrMXIybWIzZTAwdXozbnBrZzlnOWNidzkifQ.Zs9R8K81ZSvVVizvzAXmfg\"\n              \"pk.eyJ1IjoidWJlcmRhdGEiLCJhIjoiY2pudzRtaWloMDAzcTN2bzN1aXdxZHB5bSJ9.2bkj3IiRC8wj3jLThvDGdA\"\n            }\n          />\n          <div className=\"mapboxgl-ctrl-bottom-left\">\n            <NavigationControl\n              ref={ref => {\n                if (ref != null) {\n                  ref._uiVersion = 2;\n                }\n              }} //https://github.com/uber/deck.gl/issues/4383\n              // onViewportChange={viewport => this.setState({ viewport })}\n            />\n          </div>\n        </DeckGL>\n        <ListGroup\n          ref=\"child\"\n          data={data.length}\n          pathLength={this.state.pathLength}\n          distance={this.state.distance}\n          cost={this.state.cost}\n          speed={this.state.speed}\n          nodesVisited={this.state.nodesVisited}\n          runTime={this.state.runTime}\n        />\n      </div>\n    );\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const initialState = {\n  hover: {\n    x: 0,\n    y: 0,\n    hoveredObject: null\n  },\n  click: { clickedOject: null },\n  start: 5173488749,\n  end: 6330518860,\n  nodes: [],\n  path: new Map(),\n  frontier: [],\n  style: \"mapbox://styles/mapbox/dark-v10\"\n};\n\nconst rootReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"SET_NODES\":\n      let newNodes = state.node;\n      return {\n        ...state,\n        nodes: newNodes\n      };\n    case \"SET_FRONTIER\":\n      let newFrontier = state.frontier;\n      return {\n        ...state,\n        nodes: newFrontier\n      };\n    case \"SET_PATH\":\n      let newPath = state.path;\n      return {\n        ...state,\n        path: newPath\n      };\n    default:\n      return state;\n  }\n};\nexport default rootReducer;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { createStore } from \"redux\";\nimport { Provider } from \"react-redux\"; //Component that will wrap the root component, passs Store to that provider so it can be used in the app\nimport rootReducer from \"./reducers/rootReducer\";\n\nconst store = createStore(rootReducer);\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}